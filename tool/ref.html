<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‚è€ƒæ–‡çŒ®æ ¼å¼ç”Ÿæˆå™¨ | å¤¸å…‹åšå®¢</title>
    <link rel="icon" href="https://lsqkk.github.io/image/logo_blue.png" type="image/png">
    <style>
        :root {
            --primary-color: #4a90e2;
            --secondary-color: #5dade2;
            --accent-color: #e74c3c;
            --light-bg: #f5f7fa;
            --dark-text: #2c3e50;
            --light-text: #7f8c8d;
            --border-color: #ecf0f1;
            --success-color: #2ecc71;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
            line-height: 1.6;
            color: var(--dark-text);
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: var(--light-bg);
        }

        header {
            text-align: center;
            margin-bottom: 30px;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .subtitle {
            color: var(--light-text);
            font-size: 0.9em;
        }

        .container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .card {
            padding: 25px;
            border-bottom: 1px solid var(--border-color);
        }

        .card:last-child {
            border-bottom: none;
        }

        .reference-type-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }

        .type-btn {
            background-color: var(--light-bg);
            border: 1px solid var(--border-color);
            color: var(--dark-text);
            padding: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .type-btn:hover {
            background-color: #e9f0f6;
        }

        .type-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .type-btn .icon {
            font-size: 1.2em;
            margin-left: 8px;
        }

        .form-group {
            margin-bottom: 15px;
            display: flex;
            align-items: baseline;
        }

        .form-group label {
            width: 100px;
            font-weight: 500;
            color: var(--dark-text);
        }

        .form-group input {
            flex: 1;
            padding: 10px;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            font-family: inherit;
            font-size: 0.95em;
        }

        .form-group .required:after {
            content: " *";
            color: var(--accent-color);
        }

        .generate-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.95em;
            transition: background-color 0.3s;
        }

        .generate-btn:hover {
            background-color: #3a7bc8;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 15px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .btn-secondary {
            background-color: var(--light-bg);
            color: var(--dark-text);
            border: 1px solid var(--border-color);
        }

        .btn-secondary:hover {
            background-color: #e9f0f6;
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #27ae60;
        }

        .result-area {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px dashed var(--border-color);
        }

        .result-title {
            font-weight: 500;
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .reference-output {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 3px solid var(--primary-color);
            font-family: monospace;
            margin-bottom: 10px;
            white-space: pre-wrap;
        }

        .action-btns {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .more-tools {
            text-align: center;
            margin: 30px 0;
        }

        .more-tools-btn {
            background-color: var(--secondary-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-family: inherit;
            font-size: 0.9em;
            display: inline-flex;
            align-items: center;
            transition: background-color 0.3s;
        }

        .more-tools-btn:hover {
            background-color: #4a8bc2;
        }

        .more-tools-btn .icon {
            margin-left: 8px;
        }

        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid var(--border-color);
            color: var(--light-text);
            font-size: 0.9em;
        }

        footer a {
            color: var(--primary-color);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .toggle-option {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 15px;
        }

        .toggle-option label {
            width: auto;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--border-color);
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: var(--success-color);
        }

        input:checked+.slider:before {
            transform: translateX(26px);
        }

        @media (max-width: 768px) {
            .reference-type-selector {
                grid-template-columns: 1fr;
            }

            .form-group {
                flex-direction: column;
                align-items: flex-start;
            }

            .form-group label {
                width: 100%;
                margin-bottom: 5px;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>å‚è€ƒæ–‡çŒ®æ ¼å¼ç”Ÿæˆå™¨</h1>
        <div class="subtitle">å¤¸å…‹å·¥å…·ç®± - å­¦æœ¯å·¥å…·</div>
    </header>

    <div class="container">
        <div class="card">
            <h2>é€‰æ‹©æ–‡çŒ®ç±»å‹</h2>
            <div class="reference-type-selector">
                <button class="type-btn active" data-type="monograph">
                    ä¸“è‘—[M]
                    <span class="icon">ğŸ“š</span>
                </button>
                <button class="type-btn" data-type="anthology">
                    è®ºæ–‡é›†[C]
                    <span class="icon">ğŸ“„</span>
                </button>
                <button class="type-btn" data-type="newspaper">
                    æŠ¥çº¸æ–‡ç« [N]
                    <span class="icon">ğŸ“°</span>
                </button>
                <button class="type-btn" data-type="journal">
                    æœŸåˆŠæ–‡ç« [J]
                    <span class="icon">ğŸ“Š</span>
                </button>
                <button class="type-btn" data-type="thesis">
                    å­¦ä½è®ºæ–‡[D]
                    <span class="icon">ğŸ“</span>
                </button>
                <button class="type-btn" data-type="report">
                    ç ”ç©¶æŠ¥å‘Š[R]
                    <span class="icon">ğŸ“‹</span>
                </button>
                <button class="type-btn" data-type="standard">
                    æ ‡å‡†[S]
                    <span class="icon">ğŸ“</span>
                </button>
                <button class="type-btn" data-type="patent">
                    ä¸“åˆ©[P]
                    <span class="icon">ğŸ”¬</span>
                </button>
                <button class="type-btn" data-type="regulation">
                    æ¡ä¾‹[Z]
                    <span class="icon">âš–ï¸</span>
                </button>
                <button class="type-btn" data-type="translation">
                    è¯‘è‘—[M]
                    <span class="icon">ğŸŒ</span>
                </button>
                <button class="type-btn" data-type="electronic">
                    ç”µå­æ–‡çŒ®/ç½‘ç«™[EB/OL]
                    <span class="icon">ğŸŒ</span>
                </button>
            </div>
        </div>

        <div class="card">


            <div id="monograph-form" class="active">
                <div class="form-group">
                    <label class="required">ä½œè€…</label>
                    <input type="text" id="monograph-author" placeholder="å¼ å¿—å»º">
                </div>
                <div class="form-group">
                    <label class="required">ä¹¦å</label>
                    <input type="text" id="monograph-title" placeholder="ä¸¥å¤æ€æƒ³ç ”ç©¶">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆåœ°</label>
                    <input type="text" id="monograph-place" placeholder="æ¡‚æ—">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆç¤¾</label>
                    <input type="text" id="monograph-publisher" placeholder="å¹¿è¥¿å¸ˆèŒƒå¤§å­¦å‡ºç‰ˆç¤¾">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆå¹´ä»½</label>
                    <input type="text" id="monograph-year" placeholder="1989">
                </div>
                <div class="form-group">
                    <label>é¡µç </label>
                    <input type="text" id="monograph-pages" placeholder="42">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="anthology-form" style="display: none;">
                <div class="form-group">
                    <label class="required">ä½œè€…</label>
                    <input type="text" id="anthology-author" placeholder="ä¼è ¡ç”«">
                </div>
                <div class="form-group">
                    <label class="required">ç¯‡å</label>
                    <input type="text" id="anthology-title" placeholder="è¥¿æ–¹æ–‡è®ºé€‰">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆåœ°</label>
                    <input type="text" id="anthology-place" placeholder="ä¸Šæµ·">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆç¤¾</label>
                    <input type="text" id="anthology-publisher" placeholder="ä¸Šæµ·è¯‘æ–‡å‡ºç‰ˆç¤¾">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆå¹´ä»½</label>
                    <input type="text" id="anthology-year" placeholder="1979">
                </div>
                <div class="form-group">
                    <label>é¡µç </label>
                    <input type="text" id="anthology-pages" placeholder="12-17">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="newspaper-form" style="display: none;">
                <div class="form-group">
                    <label class="required">ä½œè€…</label>
                    <input type="text" id="newspaper-author" placeholder="æå¤§ä¼¦">
                </div>
                <div class="form-group">
                    <label class="required">ç¯‡å</label>
                    <input type="text" id="newspaper-title" placeholder="ç»æµå…¨çƒåŒ–çš„é‡è¦æ€§">
                </div>
                <div class="form-group">
                    <label class="required">æŠ¥çº¸å</label>
                    <input type="text" id="newspaper-name" placeholder="å…‰æ˜æ—¥æŠ¥">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆæ—¥æœŸ</label>
                    <input type="text" id="newspaper-date" placeholder="1998-12-27">
                </div>
                <div class="form-group">
                    <label class="required">ç‰ˆæ¬¡</label>
                    <input type="text" id="newspaper-edition" placeholder="3">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="journal-form" style="display: none;">
                <div class="form-group">
                    <label class="required">ä½œè€…</label>
                    <input type="text" id="journal-author" placeholder="ç‹æµ·ç²Ÿ">
                </div>
                <div class="form-group">
                    <label class="required">ç¯‡å</label>
                    <input type="text" id="journal-title" placeholder="æµ…è®®ä¼šè®¡ä¿¡æ¯æŠ«éœ²æ¨¡å¼">
                </div>
                <div class="form-group">
                    <label class="required">åˆŠå</label>
                    <input type="text" id="journal-name" placeholder="è´¢æ”¿ç ”ç©¶">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆå¹´ä»½</label>
                    <input type="text" id="journal-year" placeholder="2004">
                </div>
                <div class="form-group">
                    <label class="required">å·å·</label>
                    <input type="text" id="journal-volume" placeholder="21">
                </div>
                <div class="form-group">
                    <label class="required">æœŸå·</label>
                    <input type="text" id="journal-issue" placeholder="1">
                </div>
                <div class="form-group">
                    <label>é¡µç </label>
                    <input type="text" id="journal-pages" placeholder="56-58">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="thesis-form" style="display: none;">
                <div class="form-group">
                    <label class="required">ä½œè€…</label>
                    <input type="text" id="thesis-author" placeholder="å¼ ç­‘ç”Ÿ">
                </div>
                <div class="form-group">
                    <label class="required">ç¯‡å</label>
                    <input type="text" id="thesis-title" placeholder="å¾®åˆ†åŠåŠ¨åŠ›ç³»ç»Ÿçš„ä¸å˜é›†">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆåœ°</label>
                    <input type="text" id="thesis-place" placeholder="åŒ—äº¬">
                </div>
                <div class="form-group">
                    <label class="required">ä¿å­˜è€…</label>
                    <input type="text" id="thesis-publisher" placeholder="åŒ—äº¬å¤§å­¦æ•°å­¦ç³»æ•°å­¦ç ”ç©¶æ‰€">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆå¹´ä»½</label>
                    <input type="text" id="thesis-year" placeholder="1983">
                </div>
                <div class="form-group">
                    <label>é¡µç </label>
                    <input type="text" id="thesis-pages" placeholder="1-7">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="report-form" style="display: none;">
                <div class="form-group">
                    <label class="required">ä½œè€…</label>
                    <input type="text" id="report-author" placeholder="å†¯è¥¿æ¡¥">
                </div>
                <div class="form-group">
                    <label class="required">ç¯‡å</label>
                    <input type="text" id="report-title" placeholder="æ ¸ååº”å †å‹åŠ›ç®¡é“ä¸å‹åŠ›å®¹å™¨çš„LBBåˆ†æ">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆåœ°</label>
                    <input type="text" id="report-place" placeholder="åŒ—äº¬">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆè€…</label>
                    <input type="text" id="report-publisher" placeholder="æ¸…åå¤§å­¦æ ¸èƒ½æŠ€æœ¯è®¾è®¡ç ”ç©¶é™¢">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆå¹´ä»½</label>
                    <input type="text" id="report-year" placeholder="1997">
                </div>
                <div class="form-group">
                    <label>é¡µç </label>
                    <input type="text" id="report-pages" placeholder="9-10">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="standard-form" style="display: none;">
                <div class="form-group">
                    <label class="required">æ ‡å‡†ç¼–å·</label>
                    <input type="text" id="standard-number" placeholder="GB/T 16159â€”1996">
                </div>
                <div class="form-group">
                    <label class="required">æ ‡å‡†åç§°</label>
                    <input type="text" id="standard-name" placeholder="æ±‰è¯­æ‹¼éŸ³æ­£è¯æ³•åŸºæœ¬è§„åˆ™">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="patent-form" style="display: none;">
                <div class="form-group">
                    <label class="required">ä¸“åˆ©æ‰€æœ‰è€…</label>
                    <input type="text" id="patent-owner" placeholder="å§œé”¡æ´²">
                </div>
                <div class="form-group">
                    <label class="required">é¢˜å</label>
                    <input type="text" id="patent-title" placeholder="ä¸€ç§æ¸©çƒ­å¤–æ•·è¯åˆ¶å¤‡æ–¹æ¡ˆ">
                </div>
                <div class="form-group">
                    <label class="required">å›½åˆ«</label>
                    <input type="text" id="patent-country" placeholder="ä¸­å›½">
                </div>
                <div class="form-group">
                    <label class="required">ä¸“åˆ©å·</label>
                    <input type="text" id="patent-number" placeholder="881056073">
                </div>
                <div class="form-group">
                    <label class="required">å‘å¸ƒæ—¥æœŸ</label>
                    <input type="text" id="patent-date" placeholder="1989-07-26">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="regulation-form" style="display: none;">
                <div class="form-group">
                    <label class="required">é¢å¸ƒå•ä½</label>
                    <input type="text" id="regulation-issuer" placeholder="ä¸­åäººæ°‘å…±å’Œå›½ç§‘å­¦æŠ€æœ¯å§”å‘˜ä¼š">
                </div>
                <div class="form-group">
                    <label class="required">æ¡ä¾‹åç§°</label>
                    <input type="text" id="regulation-name" placeholder="ç§‘å­¦æŠ€æœ¯æœŸåˆŠç®¡ç†åŠæ³•">
                </div>
                <div class="form-group">
                    <label class="required">å‘å¸ƒæ—¥æœŸ</label>
                    <input type="text" id="regulation-date" placeholder="1991-06-05">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="translation-form" style="display: none;">
                <div class="form-group">
                    <label class="required">åŸè‘—ä½œè€…</label>
                    <input type="text" id="translation-author" placeholder="Angus Menuge">
                </div>
                <div class="form-group">
                    <label class="required">ä¹¦å</label>
                    <input type="text" id="translation-title" placeholder="å¤–å›½å‡ºç‰ˆå²">
                </div>
                <div class="form-group">
                    <label class="required">è¯‘è€…</label>
                    <input type="text" id="translation-translator" placeholder="é™ˆç”Ÿé“®">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆåœ°</label>
                    <input type="text" id="translation-place" placeholder="åŒ—äº¬">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆç¤¾</label>
                    <input type="text" id="translation-publisher" placeholder="ä¸­å›½ä¹¦ç±å‡ºç‰ˆç¤¾">
                </div>
                <div class="form-group">
                    <label class="required">å‡ºç‰ˆå¹´ä»½</label>
                    <input type="text" id="translation-year" placeholder="1988">
                </div>
                <div class="form-group">
                    <label>é¡µç </label>
                    <input type="text" id="translation-pages" placeholder="35-40">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>

            <div id="electronic-form" style="display: none;">
                <div class="form-group">
                    <label class="required">ä½œè€…</label>
                    <input type="text" id="electronic-author" placeholder="ç‹å­æ¶µ">
                </div>
                <div class="form-group">
                    <label class="required">ç¯‡å</label>
                    <input type="text" id="electronic-title" placeholder="å¦‚ä½•æ­£ç¡®å¡«å†™å‚è€ƒæ–‡çŒ®">
                </div>
                <div class="form-group">
                    <label class="required">ç½‘å€</label>
                    <input type="text" id="electronic-url" placeholder="http://ckwx.aazz.cn">
                </div>
                <div class="form-group">
                    <label class="required">å‘å¸ƒæ—¥æœŸ</label>
                    <input type="text" id="electronic-date" placeholder="2018-02-15">
                </div>
                <button class="generate-btn">ç”Ÿæˆå‚è€ƒæ–‡çŒ®</button>
            </div>
        </div>

        <div id="result-container" class="card" style="display: none;">
            <div class="result-area">
                <div class="toggle-option">
                    <label for="unordered-mode">æ— åºå·æ¨¡å¼ï¼ˆå³å¦‚æ‚¨éœ€è¦åœ¨Wordä¸­ç»Ÿä¸€è®¾ç½®åºå·è¯·ç‚¹è¿™é‡ŒğŸ‘‰ï¼‰</label>
                    <label class="toggle-switch">
                        <input type="checkbox" id="unordered-mode">
                        <span class="slider"></span>
                    </label>
                </div>
                <div class="result-title">ç”Ÿæˆçš„å‚è€ƒæ–‡çŒ®:ï¼ˆç‚¹å‡»è‡ªåŠ¨å¤åˆ¶ï¼‰</div>
                <div id="reference-output" class="reference-output"></div>
                <div class="action-btns">
                    <button class="btn btn-secondary" id="continue-adding">ç»§ç»­æ·»åŠ </button>
                    <button class="btn btn-secondary" id="clear-all">æ¸…ç©º</button>
                </div>
            </div>
        </div>
    </div>

    <div class="more-tools">
        <a href="https://lsqkk.github.io/tool" target="_blank">
            <button class="more-tools-btn">
                æ›´å¤šå®ç”¨å·¥å…·
                <span class="icon">â¡ï¸</span>
            </button>
        </a>
    </div>

    <footer>
        <p>Â© 2024 - <span id="current-year"></span> <a href="https://lsqkk.github.io/post.html?file=copyright.md"
                target="_blank">å¤¸å…‹åšå®¢ / è“è‰²å¥‡å¤¸å…‹</a> All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // è®¾ç½®å½“å‰å¹´ä»½
            document.getElementById('current-year').textContent = new Date().getFullYear();

            // æ–‡çŒ®ç±»å‹åˆ‡æ¢
            const typeButtons = document.querySelectorAll('.type-btn');
            const forms = document.querySelectorAll('.card div[id$="-form"]');

            typeButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const type = this.getAttribute('data-type');

                    // æ›´æ–°æ´»åŠ¨æŒ‰é’®
                    typeButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');

                    // æ˜¾ç¤ºå¯¹åº”çš„è¡¨å•
                    forms.forEach(form => {
                        form.style.display = 'none';
                    });

                    document.getElementById(`${type}-form`).style.display = 'block';

                    // éšè—ç»“æœåŒºåŸŸ
                    document.getElementById('result-container').style.display = 'none';
                });
            });

            // ç”Ÿæˆå‚è€ƒæ–‡çŒ®é€»è¾‘
            const generateButtons = document.querySelectorAll('.generate-btn');

            // å­˜å‚¨ç”Ÿæˆçš„æ–‡çŒ®
            let references = [];
            let isUnorderedMode = document.getElementById('unordered-mode').checked;

            generateButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const formId = this.closest('div').id;
                    const referenceType = formId.replace('-form', '');
                    const form = document.getElementById(formId);
                    const inputs = form.querySelectorAll('input');
                    const output = document.getElementById('reference-output');

                    // å¿…å¡«é¡¹éªŒè¯
                    let isValid = true;
                    form.querySelectorAll('input').forEach(input => {
                        const label = input.previousElementSibling;
                        const hasRequired = label.classList.contains('required');

                        if (hasRequired && !input.value.trim()) {
                            isValid = false;
                            input.style.borderColor = 'var(--accent-color)';
                        } else {
                            input.style.borderColor = 'var(--border-color)';
                        }
                    });

                    if (!isValid) {
                        alert('è¯·å¡«å†™æ‰€æœ‰å¿…å¡«é¡¹ï¼');
                        return;
                    }

                    // ç”Ÿæˆå‚è€ƒæ–‡çŒ®
                    let reference = '';

                    switch (referenceType) {
                        case 'monograph':
                            reference = `[1] ${document.getElementById('monograph-author').value}.${document.getElementById('monograph-title').value}[M]. ${document.getElementById('monograph-place').value}ï¼š${document.getElementById('monograph-publisher').value}ï¼Œ${document.getElementById('monograph-year').value}${document.getElementById('monograph-pages').value ? `ï¼š${document.getElementById('monograph-pages').value}` : ''}.`;
                            break;
                        case 'anthology':
                            reference = `[1] ${document.getElementById('anthology-author').value}.${document.getElementById('anthology-title').value}[C]. ${document.getElementById('anthology-place').value}ï¼š${document.getElementById('anthology-publisher').value}ï¼Œ${document.getElementById('anthology-year').value}${document.getElementById('anthology-pages').value ? `ï¼š${document.getElementById('anthology-pages').value}` : ''}.`;
                            break;
                        case 'newspaper':
                            reference = `[1] ${document.getElementById('newspaper-author').value}.${document.getElementById('newspaper-title').value}[N]. ${document.getElementById('newspaper-name').value}ï¼Œ${document.getElementById('newspaper-date').value}(${document.getElementById('newspaper-edition').value}).`;
                            break;
                        case 'journal':
                            reference = `[1] ${document.getElementById('journal-author').value}.${document.getElementById('journal-title').value}[J]. ${document.getElementById('journal-name').value}ï¼Œ${document.getElementById('journal-year').value}ï¼Œ${document.getElementById('journal-volume').value}(${document.getElementById('journal-issue').value})${document.getElementById('journal-pages').value ? `ï¼š${document.getElementById('journal-pages').value}` : ''}.`;
                            break;
                        case 'thesis':
                            reference = `[1] ${document.getElementById('thesis-author').value}.${document.getElementById('thesis-title').value}[D]. ${document.getElementById('thesis-place').value}ï¼š${document.getElementById('thesis-publisher').value}ï¼Œ${document.getElementById('thesis-year').value}${document.getElementById('thesis-pages').value ? `ï¼š${document.getElementById('thesis-pages').value}` : ''}.`;
                            break;
                        case 'report':
                            reference = `[1] ${document.getElementById('report-author').value}.${document.getElementById('report-title').value}[R]. ${document.getElementById('report-place').value}ï¼š${document.getElementById('report-publisher').value}ï¼Œ${document.getElementById('report-year').value}${document.getElementById('report-pages').value ? `ï¼š${document.getElementById('report-pages').value}` : ''}.`;
                            break;
                        case 'standard':
                            reference = `[1] ${document.getElementById('standard-number').value},${document.getElementById('standard-name').value}[S].`;
                            break;
                        case 'patent':
                            reference = `[1] ${document.getElementById('patent-owner').value}.${document.getElementById('patent-title').value}[P]. ${document.getElementById('patent-country').value}ä¸“åˆ©:${document.getElementById('patent-number').value},${document.getElementById('patent-date').value.replace(/-/g, '.')}.`;
                            break;
                        case 'regulation':
                            reference = `[1] ${document.getElementById('regulation-issuer').value}.${document.getElementById('regulation-name').value}[Z].${document.getElementById('regulation-date').value.replace(/-/g, '-')}`;
                            break;
                        case 'translation':
                            reference = `[1] ${document.getElementById('translation-author').value}.${document.getElementById('translation-title').value}[M].${document.getElementById('translation-translator').value}ï¼Œè¯‘.${document.getElementById('translation-place').value}ï¼š${document.getElementById('translation-publisher').value}ï¼Œ${document.getElementById('translation-year').value}${document.getElementById('translation-pages').value ? `ï¼š${document.getElementById('translation-pages').value}` : ''}.`;
                            break;
                        case 'electronic':
                            reference = `[1] ${document.getElementById('electronic-author').value}.${document.getElementById('electronic-title').value}[EB/OL].${document.getElementById('electronic-url').value},${document.getElementById('electronic-date').value.replace(/-/g, '-')}.`;
                            break;
                    }

                    // æ·»åŠ æˆ–æ›´æ–°å‚è€ƒæ–‡çŒ®
                    if (isUnorderedMode) {
                        references.push(reference.replace('[1] ', ''));
                    } else {
                        references.push(reference);
                    }

                    // æ˜¾ç¤ºå‚è€ƒæ–‡çŒ®
                    output.textContent = references.join('\n\n');

                    // æ˜¾ç¤ºç»“æœåŒºåŸŸ
                    document.getElementById('result-container').style.display = 'block';

                    // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
                    output.scrollIntoView({ behavior: 'smooth' });
                });
            });

            // ç»§ç»­æ·»åŠ æŒ‰é’®
            document.getElementById('continue-adding').addEventListener('click', function () {
                document.getElementById('result-container').style.display = 'none';
                document.querySelector('.type-btn.active').click();
            });

            // æ¸…ç©ºæŒ‰é’®
            document.getElementById('clear-all').addEventListener('click', function () {
                if (confirm('ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰ç”Ÿæˆçš„å‚è€ƒæ–‡çŒ®å—ï¼Ÿ')) {
                    references = [];
                    document.getElementById('reference-output').textContent = '';
                    document.getElementById('result-container').style.display = 'none';
                }
            });

            // æ— åºå·æ¨¡å¼åˆ‡æ¢
            document.getElementById('unordered-mode').addEventListener('change', function () {
                isUnorderedMode = this.checked;
                if (isUnorderedMode) {
                    // è½¬æ¢ä¸ºæ— åºå·æ¨¡å¼
                    const numberedReferences = references.slice();
                    references = [];
                    numberedReferences.forEach(ref => {
                        if (ref.startsWith('[1] ')) {
                            references.push(ref.replace('[1] ', ''));
                        } else {
                            references.push(ref);
                        }
                    });
                } else {
                    // è½¬æ¢ä¸ºæœ‰åºå·æ¨¡å¼
                    const unorderedReferences = references.slice();
                    references = [];
                    unorderedReferences.forEach((ref, index) => {
                        if (ref.startsWith('[1] ')) {
                            references.push(ref);
                        } else {
                            references.push(`[1] ${ref}`);
                        }
                    });
                }

                if (references.length > 0) {
                    document.getElementById('reference-output').textContent = references.join('\n\n');
                }
            });

            // å¤åˆ¶åŠŸèƒ½
            document.getElementById('reference-output').addEventListener('click', function () {
                const textToCopy = this.textContent;
                navigator.clipboard.writeText(textToCopy).then(function () {
                    alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼');
                }, function () {
                    alert('å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å¹¶å¤åˆ¶æ–‡æœ¬ï¼');
                });
            });
        });
    </script>
</body>

</html>