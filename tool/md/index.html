<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown å®šåˆ¶åŒ–å¯¼å‡ºå·¥å…·</title>
    <link rel="stylesheet" href="nav.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        /* é¿å…ä¸ nav.css ä¸­çš„ .header å†²çªï¼Œä½¿ç”¨ .app-container ä½œä¸ºä¸»å®¹å™¨ */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f4f7;
            /* è½»å¾®èƒŒæ™¯è‰² */
        }

        /* ------------------- Glassmorphism æ ·å¼ ------------------- */
        .glass-panel {
            background: rgba(255, 255, 255, 0.2);
            /* è½»å¾®åŠé€æ˜èƒŒæ™¯ */
            backdrop-filter: blur(15px);
            /* è¾ƒå¼ºæ¯›ç»ç’ƒæ•ˆæœ */
            -webkit-backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 15px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin: 20px;
            box-sizing: border-box;
        }

        .custom-input,
        .custom-select,
        .custom-textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            background-color: rgba(255, 255, 255, 0.1);
            color: #333;
            font-size: 1em;
            transition: all 0.3s ease;
            box-sizing: border-box;
        }

        .custom-input::placeholder,
        .custom-textarea::placeholder {
            color: rgba(51, 51, 51, 0.7);
        }

        .custom-input:focus,
        .custom-select:focus,
        .custom-textarea:focus {
            outline: none;
            border-color: rgba(122, 189, 154, 0.8);
            box-shadow: 0 0 0 3px rgba(122, 189, 154, 0.3);
            background-color: rgba(255, 255, 255, 0.3);
        }

        .custom-btn {
            padding: 10px 15px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.1s;
            /* æŒ‰é’®ä½¿ç”¨ä¸»é¢˜è‰²è°ƒ */
            background-color: rgba(122, 189, 154, 0.8);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.5);
        }

        .custom-btn:hover {
            background-color: rgba(122, 189, 154, 1);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .custom-btn:active {
            transform: scale(0.98);
        }

        .btn-group {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        /* ------------------- å¸ƒå±€æ ·å¼ ------------------- */
        .app-layout {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            gap: 20px;
            padding: 20px 0;
            min-height: calc(100vh - 40px);
            /* å‡å» margin */
        }

        .editor-section,
        .preview-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            min-width: 0;
        }

        /* ä¾§è¾¹æ æ ·å¼ */
        .sidebar {
            width: 300px;
            display: flex;
            flex-direction: column;
        }

        .customization-panel {
            margin-bottom: 20px;
        }

        .customization-panel h3 {
            color: #333;
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }

        .style-group {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.1);
        }

        .style-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 0.9em;
            font-weight: bold;
            color: #555;
        }

        /* Markdown ç¼–è¾‘åŒº */
        #markdown-input {
            min-height: 500px;
            resize: vertical;
            flex-grow: 1;
            font-family: monospace;
        }

        /* é¢„è§ˆåŒº */
        #preview {
            flex-grow: 1;
            overflow-y: auto;
            /* ç¡®ä¿é¢„è§ˆå†…å®¹å¯æ»šåŠ¨ */
            padding: 20px;
            color: #333;
        }

        /* å¯¼å‡ºæ—¶çš„æ‰“å°æ ·å¼ï¼šéšè—æ‰€æœ‰ UI å…ƒç´ ï¼Œåªæ‰“å°é¢„è§ˆå†…å®¹ */
        @media print {
            body>* {
                display: none !important;
            }

            #preview-container {
                display: block !important;
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: auto;
                margin: 0;
                border: none;
                box-shadow: none;
                background: none;
                backdrop-filter: none;
                -webkit-backdrop-filter: none;
            }

            #preview {
                overflow: visible !important;
                padding: 0 !important;
            }
        }
    </style>
    <style id="custom-styles"></style>

    <link rel="icon" href="/assets/img/logo_blue.png" type="image/png"></head>

<body>

    <div class="app-layout">

        <div class="editor-section">
            <div class="glass-panel" style="flex-grow: 1; padding: 15px; display: flex; flex-direction: column;">
                <h2>âœï¸ Markdown ç¼–è¾‘</h2>
                <textarea id="markdown-input" class="custom-textarea" placeholder="åœ¨æ­¤è¾“å…¥ Markdown æ–‡æœ¬..."></textarea>
                <div class="btn-group">
                    <button id="save-content-btn" class="custom-btn" title="ä¿å­˜ Markdown æ–‡æœ¬åˆ°æµè§ˆå™¨">ğŸ’¾ ä¿å­˜å†…å®¹</button>
                    <button id="load-content-btn" class="custom-btn" title="åŠ è½½ä¸Šæ¬¡ä¿å­˜çš„ Markdown æ–‡æœ¬">ğŸ“¤ åŠ è½½å†…å®¹</button>
                    <button id="clear-content-btn" class="custom-btn" title="æ¸…ç©ºç¼–è¾‘å™¨å†…å®¹">ğŸ—‘ï¸ æ¸…ç©ºå†…å®¹</button>
                </div>
            </div>
        </div>

        <div class="sidebar">
            <div class="glass-panel customization-panel">
                <h3>ğŸ¨ æ ·å¼å®šåˆ¶</h3>
                <div class="style-group">
                    <label for="font-family">å…¨å±€å­—ä½“</label>
                    <input type="text" id="font-family" class="custom-input" value="sans-serif">
                </div>

                <div class="style-group">
                    <label for="base-font-size">æ­£æ–‡åŸºå‡†å­—ä½“å¤§å° (px)</label>
                    <input type="number" id="base-font-size" class="custom-input" value="16">
                </div>

                <div class="style-group">
                    <label for="text-color">æ­£æ–‡é¢œè‰²</label>
                    <input type="color" id="text-color" class="custom-input" value="#333333">
                </div>

                <div class="style-group">
                    <h4>æ ‡é¢˜å®šåˆ¶</h4>
                    <label for="h1-size">H1 å­—ä½“å¤§å° (px)</label>
                    <input type="number" id="h1-size" class="custom-input" value="32">
                    <label for="h1-color">H1 é¢œè‰²</label>
                    <input type="color" id="h1-color" class="custom-input" value="#1a531a">
                </div>

                <button id="save-styles-btn" class="custom-btn" style="width: 100%; margin-bottom: 10px;">âœ¨
                    ä¿å­˜å®šåˆ¶æ ·å¼</button>
            </div>

            <div class="glass-panel export-panel">
                <h3>ğŸ“¤ å¯¼å‡ºè®¾ç½®</h3>
                <div class="style-group">
                    <h4>çº¸å¼ æ ·å¼ (PDF)</h4>
                    <label for="paper-size">çº¸å¼ å¤§å°</label>
                    <select id="paper-size" class="custom-select">
                        <option value="a4">A4</option>
                        <option value="letter">Letter</option>
                        <option value="legal">Legal</option>
                    </select>
                    <label for="margin-top">ä¸Šè¾¹è· (mm)</label>
                    <input type="number" id="margin-top" class="custom-input" value="20">
                </div>

                <div class="btn-group">
                    <button id="export-pdf-btn" class="custom-btn" style="flex: 1;">â¬‡ï¸ å¯¼å‡º PDF</button>
                    <button id="export-doc-btn" class="custom-btn" style="flex: 1;">â¬‡ï¸ å¯¼å‡º Word (DOC)</button>
                </div>
            </div>
        </div>

        <div class="preview-section" id="preview-container">
            <div class="glass-panel" style="flex-grow: 1; overflow: hidden; padding: 0;">
                <h2>ğŸ‘€ é¢„è§ˆ</h2>
                <div id="preview">
                    <h1>æ¬¢è¿ä½¿ç”¨å®šåˆ¶åŒ– Markdown ç¼–è¾‘å™¨</h1>
                    <p>åœ¨è¿™é‡Œï¼Œæ‚¨å¯ä»¥è¾“å…¥ **Markdown** æ–‡æœ¬ï¼Œå¹¶åœ¨å³ä¾§å®æ—¶é¢„è§ˆå…¶æ•ˆæœã€‚</p>
                    <h2>æ ·å¼å®šåˆ¶</h2>
                    <p>è¯·åœ¨å·¦ä¾§ä¾§è¾¹æ ä¸­è°ƒæ•´å­—ä½“ã€å¤§å°ã€é¢œè‰²ç­‰æ ·å¼ï¼Œå¹¶ç‚¹å‡»ä¿å­˜ã€‚</p>
                    <p style="color: #888;">æ³¨æ„ï¼šæœ¬é¡µé¢çš„æ ·å¼ä¸æ‚¨åæœŸå°†ä½¿ç”¨çš„å¯¼èˆªæ ä¿æŒä¸€è‡´çš„**é€æ˜æ¯›ç»ç’ƒ**é£æ ¼ã€‚</p>
                    <ul>
                        <li>æ”¯æŒ H1-H6 æ ‡é¢˜</li>
                        <li>æ”¯æŒ <strong>åŠ ç²—</strong> å’Œ <em>æ–œä½“</em></li>
                        <li>æ”¯æŒåˆ—è¡¨</li>
                    </ul>
                </div>
            </div>
        </div>

    </div>

    <script src="app.js"></script>
</body>

</html>