<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交大360°全景平台 | 夸克博客</title>
    <meta name="description" content="西安交通大学校园360°全景查看">
    <link rel="stylesheet" href="360.css">
    <link rel="icon" href="https://lsqkk.github.io/image/logo_blue.png" type="image/png">
    <link rel="stylesheet" href="https://lsqkk.github.io/css/cursor.css">
    <script src="https://lsqkk.github.io/js/cursor-trail.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link id="pannellumCss" rel="stylesheet" href="pannellum.css" />
    <script id="pannellumJS" src="pannellum.js"></script>
</head>

<body>
    <!-- 全景图容器 -->
    <div id="panorama"></div>

    <!-- 水印 -->
    <div class="watermark" id="watermark"></div>

    <!-- 密码解锁对话框 -->
    <div class="password-dialog" id="passwordDialog">
        <div class="password-box">
            <h3 class="password-title">去除水印</h3>
            <p>请输入密码以去除水印</p>
            <input type="password" class="password-input" id="passwordInput" placeholder="请输入密码">
            <div>
                <button class="password-btn" id="confirmPassword">确认</button>
                <button class="password-btn cancel" id="cancelPassword">取消</button>
            </div>
            <p id="passwordError" style="color: red; margin-top: 10px; display: none;">密码错误，请重试</p>
        </div>
    </div>

    <!-- 桌面端隐藏/显示按钮 -->
    <button class="hide-show-btn" id="toggleLeft"><i class="fas fa-chevron-right"></i></button>
    <button class="hide-show-btn" id="toggleRight"><i class="fas fa-chevron-left"></i></button>

    <!-- 移动端专用按钮 -->
    <button class="mobile-toggle-btn" id="mobileMenuToggle"><i class="fas fa-list"></i></button>
    <button class="mobile-toggle-btn" id="mobileInfoToggle"><i class="fas fa-info"></i></button>

    <!-- 左侧面板 - 图片列表 -->
    <div class="control-panel" id="leftPanel">
        <div class="panel-header">
            <h3 class="panel-title">交大全景图</h3>
            <button class="toggle-btn" id="collapseLeft">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="panel-content">
            <!-- 上传区域放在场景列表之前 -->
            <div class="upload-area" id="uploadArea">
                <i class="fas fa-cloud-upload-alt upload-icon"></i>
                <p class="upload-text">点击或拖拽上传您的全景图片</p>
                <input type="file" id="fileInput" accept="image/*" style="display: none;">
            </div>

            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" id="searchInput" placeholder="搜索地点或贡献者...">
            </div>
            <div class="scene-list" id="sceneList">
                <!-- 场景列表将通过JS动态生成 -->
            </div>
        </div>
    </div>

    <!-- 右侧面板 - 说明文字 -->
    <div class="control-panel" id="rightPanel">
        <div class="panel-header">
            <h3 class="panel-title">关于交大360°</h3>
            <button class="toggle-btn" id="collapseRight">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="panel-content">
            <div class="editable-content" contenteditable="true" id="editableContent">
                <p>欢迎来到交大360°平台，可在这里查看交大（兴庆校区）各处360°全景。</p>
                <p>您也可以使用它自由地上传并查看您的各种全景图，并右键可以下载包含您的全景图的网页以做收藏。</p>
                <p>平台为纯前端，因此您的图片只会存在网页本身中不会被上传到任何地方，不用担心隐私问题。</p>
                <p>欢迎大家为本平台贡献交大更多的全景图片，欢迎<a href="https://docs.qq.com/form/page/DYkh5ekRtUFZicFVS">点此</a>提交~</p>
                <p>平台遵循AGPL-3.0-or-later协议，您可以随意分发修改，只需要保持您修改后的作品仍然遵守同样的协议即可。</p>
                <p>欢迎访问<a href="https://lsqkk.github.io">我的小窝</a>，来一起玩~</p>
                <p
                    style="font-style: italic; margin-top: 15px; padding: 10px; background: #f9f9f9; border-radius: 6px;">
                    本段可以编辑的，您可以改成喜欢的内容后保存，也可隐藏~
                </p>
            </div>
        </div>
    </div>
    <script id="pannellumJS" src="360.js"></script>
</body>

</html>