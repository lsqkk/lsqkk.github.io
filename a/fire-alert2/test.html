<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天地图示例</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        #map {
            width: 100%;
            height: 100vh;
        }

        .info {
            position: absolute;
            top: 10px;
            left: 10px;
            background: white;
            padding: 10px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@7.3.0/ol.css">
    <script src="https://cdn.jsdelivr.net/npm/ol@7.3.0/dist/ol.js"></script>
</head>

<body>
    <div id="map"></div>
    <div class="info">
        <h3>天地图示例</h3>
        <p>使用影像底图(球面墨卡托投影)</p>
    </div>

    <script>
        // 替换为你的天地图密钥
        const tiandituKey = '6e5b0e71ae628b8c2ab60c9144a7848e';

        // 创建影像底图图层
        const imgLayer = new ol.layer.Tile({
            source: new ol.source.WMTS({
                url: 'http://t0.tianditu.gov.cn/img_w/wmts?tk=' + tiandituKey,
                layer: 'img',
                style: 'default',
                matrixSet: 'w',
                format: 'tiles',
                projection: 'EPSG:3857',
                tileGrid: new ol.tilegrid.WMTS({
                    origin: [-2.003750834E7, 2.003750834E7],
                    resolutions: [
                        156543.033928041,
                        78271.5169640205,
                        39135.75848201024,
                        19567.87924100512,
                        9783.93962050256,
                        4891.96981025128,
                        2445.98490512564,
                        1222.99245256282,
                        611.49622628141,
                        305.748113140705,
                        152.8740565703525,
                        76.43702828517625,
                        38.21851414258813,
                        19.109257071294063,
                        9.554628535647032,
                        4.777314267823516,
                        2.388657133911758,
                        1.194328566955879,
                        0.5971642834779395
                    ],
                    matrixIds: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
                }),
                wrapX: true
            })
        });

        // 创建地图
        const map = new ol.Map({
            target: 'map',
            layers: [imgLayer],
            view: new ol.View({
                center: ol.proj.fromLonLat([108.5, 34.5]), // 北京中心点
                zoom: 100
            })
        });
    </script>
</body>

</html>