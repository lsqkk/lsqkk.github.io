<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <link rel="stylesheet" href="/assets/css/basic.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>山火预警系统 - 数据与模型双驱动的智慧气象山火防控框架</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@7.3.0/ol.css">
</head>

<body>
    <div class="container">
        <header>
            <link rel="stylesheet" href="/assets/css/basic.css">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-fire"></i>
                </div>
                <div class="logo-text">
                    <h1>山火预警防控系统</h1>
                    <p>数据与模型双驱动的智慧气象山火防控框架</p>
                </div>
            </div>

            <!-- 新增时间和IP显示 -->
            <div id="time-ip-info" style="color: var(--text-light); text-align: center;">
                <div id="current-time" style="font-size: 16px; font-weight: bold;"></div>
                <div id="current-ip" style="font-size: 12px; color: var(--text-gray);"></div>
            </div>

            <div class="admin-panel">
                <div class="admin-login" id="adminLoginForm">
                    <input type="password" id="adminPassword" placeholder="管理员密码">
                    <button class="admin-btn" onclick="adminLogin()">登录</button>
                </div>
                <div class="admin-actions" id="adminActions" style="display: none;">
                    <span>管理员模式</span>
                    <button class="admin-btn" onclick="logoutAdmin()">退出</button>
                </div>
            </div>
        </header>

        <div class="dashboard-grid">
            <!-- 火险等级卡片 -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        当前火险等级
                    </div>
                </div>
                <div class="data-value" id="fireRiskValue">低风险</div>
                <div class="risk-level">
                    <div class="risk-indicator risk-low"></div>
                    <span>基于当前位置的火险评估</span>
                </div>
                <div style="margin-top: 15px; font-size: 14px; color: var(--text-gray);">
                    <p>安全提示: 当前环境条件良好，无火险隐患</p>
                    <p>建议: 保持常规监测，无需特殊防范措施</p>
                </div>
            </div>

            <!-- 气象数据卡片 -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">
                            <i class="fas fa-temperature-high"></i>
                        </div>
                        实时气象
                    </div>
                    <div id="location" style="font-size: 14px; color: var(--text-gray);">定位中...</div>
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div>
                        <div style="font-size: 14px; color: var(--text-gray);">温度</div>
                        <div class="data-value" id="temperature">--<span class="data-unit">°C</span></div>
                    </div>
                    <div>
                        <div style="font-size: 14px; color: var(--text-gray);">湿度</div>
                        <div class="data-value" id="humidity">--<span class="data-unit">%</span></div>
                    </div>
                    <div>
                        <div style="font-size: 14px; color: var(--text-gray);">风速</div>
                        <div class="data-value" id="windSpeed">--<span class="data-unit">m/s</span></div>
                    </div>
                    <div>
                        <div style="font-size: 14px; color: var(--text-gray);">降水</div>
                        <div class="data-value" id="precipitation">--<span class="data-unit">mm</span></div>
                    </div>
                </div>
            </div>

            <!-- 地图卡片 -->
            <div class="dashboard-card card-large">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">
                            <i class="fas fa-map"></i>
                        </div>
                        火情监测地图
                    </div>
                    <div style="display: flex; gap: 10px;">
                        <button class="admin-btn" style="padding: 8px 15px; font-size: 14px;"
                            onclick="switchLayer('satellite')">卫星图</button>
                        <button class="admin-btn" style="padding: 8px 15px; font-size: 14px;"
                            onclick="switchLayer('terrain')">地形图</button>
                    </div>
                </div>
                <div id="map"></div>
            </div>

            <!-- 预警信息卡片 -->
            <div class="dashboard-card card-large">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        预警信息
                    </div>
                    <button class="admin-btn" id="addWarningBtn"
                        style="display: none; padding: 8px 15px; font-size: 14px;"
                        onclick="showAddWarningModal()">发布预警</button>
                </div>
                <div class="warning-list" id="warningList">
                    <!-- 预警信息将从warnings.json动态加载 -->
                </div>
            </div>

            <!-- 火情上报卡片 -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">
                            <i class="fas fa-fire-extinguisher"></i>
                        </div>
                        火情上报
                    </div>
                </div>
                <p style="margin-bottom: 15px; font-size: 14px;">发现火情请立即上报</p>
                <button class="admin-btn" style="width: 100%;" onclick="location.href='report.html'">上报火情</button>
                <div style="margin-top: 15px; font-size: 14px; color: var(--text-gray);">
                    <p>今日上报: <span id="todayReports">0</span> 起</p>
                    <p>处理中: <span id="pendingReports">0</span> 起</p>
                </div>
            </div>

            <!-- 系统状态卡片 -->
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-title">
                        <div class="card-icon">
                            <i class="fas fa-server"></i>
                        </div>
                        系统状态
                    </div>
                </div>
                <div style="margin: 15px 0;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>数据更新</span>
                        <span style="color: var(--accent-green);">正常</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>卫星连接</span>
                        <span style="color: var(--accent-green);">正常</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
                        <span>预警系统</span>
                        <span style="color: var(--accent-green);">运行中</span>
                    </div>
                </div>
                <div style="font-size: 12px; color: var(--text-gray); text-align: center;">
                    最后更新: <span id="lastUpdate">2023-10-15 16:45:32</span>
                </div>
            </div>
        </div>

        <div class="nav-cards">
            <a href="dashboard.html" class="nav-card">
                <div class="nav-icon">
                    <i class="fas fa-tachometer-alt"></i>
                </div>
                <div class="nav-title">数据仪表盘</div>
                <div class="nav-desc">查看详细数据和统计分析</div>
            </a>

            <a href="satellite.html" class="nav-card">
                <div class="nav-icon">
                    <i class="fas fa-satellite"></i>
                </div>
                <div class="nav-title">卫星监测</div>
                <div class="nav-desc">实时卫星图像与火点识别</div>
            </a>

            <a href="forecast.html" class="nav-card">
                <div class="nav-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <div class="nav-title">火险预报</div>
                <div class="nav-desc">火险等级预测与蔓延</div>
            </a>

            <a href="report.html" class="nav-card">
                <div class="nav-icon">
                    <i class="fas fa-exclamation-circle"></i>
                </div>
                <div class="nav-title">灾情上报</div>
                <div class="nav-desc">上报火情与查看处理进度</div>
            </a>
        </div>
    </div>

    <!-- 添加预警模态框 -->
    <div id="addWarningModal"
        style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); z-index: 1000; align-items: center; justify-content: center;">
        <div style="background: var(--primary-blue); padding: 30px; border-radius: 12px; width: 500px; max-width: 90%;">
            <h2 style="margin-bottom: 20px;">发布预警信息</h2>
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px;">预警标题</label>
                <input type="text" id="warningTitle"
                    style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid var(--card-border); background: rgba(255,255,255,0.1); color: var(--text-light);">
            </div>
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px;">预警级别</label>
                <select id="warningLevel"
                    style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid var(--card-border); background: rgba(255,255,255,0.1); color: var(--text-light);">
                    <option value="low">低风险</option>
                    <option value="medium">中风险</option>
                    <option value="high">高风险</option>
                    <option value="extreme">极高风险</option>
                </select>
            </div>
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 5px;">预警内容</label>
                <textarea id="warningContent" rows="4"
                    style="width: 100%; padding: 10px; border-radius: 5px; border: 1px solid var(--card-border); background: rgba(255,255,255,0.1); color: var(--text-light); resize: vertical;"></textarea>
            </div>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button class="admin-btn" style="background: #666;" onclick="closeAddWarningModal()">取消</button>
                <button class="admin-btn" onclick="addWarning()">发布</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/ol@7.3.0/dist/ol.js"></script>
    <script>
        // 天地图密钥
        const tiandituKey = '6e5b0e71ae628b8c2ab60c9144a7848e';
        // OpenWeatherMap API配置
        const API_KEY = '271d3f7012a6dc06a07cea3d08888fb1';
        const BASE_URL = 'https://api.openweathermap.org/data/2.5';

        // 管理员状态
        let isAdmin = localStorage.getItem('isAdmin') === 'true';

        // 初始化地图
        let map;
        let currentLayer = 'satellite';

        function initMap() {
            // 创建影像底图图层
            const imgLayer = new ol.layer.Tile({
                source: new ol.source.WMTS({
                    url: 'http://t0.tianditu.gov.cn/img_w/wmts?tk=' + tiandituKey,
                    layer: 'img',
                    style: 'default',
                    matrixSet: 'w',
                    format: 'tiles',
                    projection: 'EPSG:3857',
                    tileGrid: new ol.tilegrid.WMTS({
                        origin: [-2.003750834E7, 2.003750834E7],
                        resolutions: [
                            156543.033928041,
                            78271.5169640205,
                            39135.75848201024,
                            19567.87924100512,
                            9783.93962050256,
                            4891.96981025128,
                            2445.98490512564,
                            1222.99245256282,
                            611.49622628141,
                            305.748113140705,
                            152.8740565703525,
                            76.43702828517625,
                            38.21851414258813,
                            19.109257071294063,
                            9.554628535647032,
                            4.777314267823516,
                            2.388657133911758,
                            1.194328566955879,
                            0.5971642834779395
                        ],
                        matrixIds: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
                    }),
                    wrapX: true
                })
            });

            // 创建地形底图图层
            const terLayer = new ol.layer.Tile({
                source: new ol.source.WMTS({
                    url: 'http://t0.tianditu.gov.cn/ter_w/wmts?tk=' + tiandituKey,
                    layer: 'ter',
                    style: 'default',
                    matrixSet: 'w',
                    format: 'tiles',
                    projection: 'EPSG:3857',
                    tileGrid: new ol.tilegrid.WMTS({
                        origin: [-2.003750834E7, 2.003750834E7],
                        resolutions: [
                            156543.033928041,
                            78271.5169640205,
                            39135.75848201024,
                            19567.87924100512,
                            9783.93962050256,
                            4891.96981025128,
                            2445.98490512564,
                            1222.99245256282,
                            611.49622628141,
                            305.748113140705,
                            152.8740565703525,
                            76.43702828517625,
                            38.21851414258813,
                            19.109257071294063,
                            9.554628535647032,
                            4.777314267823516,
                            2.388657133911758,
                            1.194328566955879,
                            0.5971642834779395
                        ],
                        matrixIds: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
                    }),
                    wrapX: true
                })
            });

            // 创建矢量图层用于显示火点（不添加火点）
            const vectorSource = new ol.source.Vector();
            const vectorLayer = new ol.layer.Vector({
                source: vectorSource,
                style: new ol.style.Style({
                    image: new ol.style.Circle({
                        radius: 7,
                        fill: new ol.style.Fill({
                            color: 'rgba(255, 107, 53, 0.8)'
                        }),
                        stroke: new ol.style.Stroke({
                            color: 'rgba(255, 255, 255, 0.8)',
                            width: 2
                        })
                    })
                })
            });

            // 创建地图
            map = new ol.Map({
                target: 'map',
                layers: [imgLayer, vectorLayer],
                view: new ol.View({
                    center: ol.proj.fromLonLat([108.5, 34.5]), // 北京中心点
                    zoom: 3
                })
            });
        }

        // 切换地图图层
        function switchLayer(layerType) {
            currentLayer = layerType;
            const baseLayer = map.getLayers().item(0);

            if (layerType === 'satellite') {
                baseLayer.setSource(new ol.source.WMTS({
                    url: 'http://t0.tianditu.gov.cn/img_w/wmts?tk=' + tiandituKey,
                    layer: 'img',
                    style: 'default',
                    matrixSet: 'w',
                    format: 'tiles',
                    projection: 'EPSG:3857',
                    tileGrid: new ol.tilegrid.WMTS({
                        origin: [-2.003750834E7, 2.003750834E7],
                        resolutions: [
                            156543.033928041,
                            78271.5169640205,
                            39135.75848201024,
                            19567.87924100512,
                            9783.93962050256,
                            4891.96981025128,
                            2445.98490512564,
                            1222.99245256282,
                            611.49622628141,
                            305.748113140705,
                            152.8740565703525,
                            76.43702828517625,
                            38.21851414258813,
                            19.109257071294063,
                            9.554628535647032,
                            4.777314267823516,
                            2.388657133911758,
                            1.194328566955879,
                            0.5971642834779395
                        ],
                        matrixIds: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
                    }),
                    wrapX: true
                }));
            } else if (layerType === 'terrain') {
                baseLayer.setSource(new ol.source.WMTS({
                    url: 'http://t0.tianditu.gov.cn/ter_w/wmts?tk=' + tiandituKey,
                    layer: 'ter',
                    style: 'default',
                    matrixSet: 'w',
                    format: 'tiles',
                    projection: 'EPSG:3857',
                    tileGrid: new ol.tilegrid.WMTS({
                        origin: [-2.003750834E7, 2.003750834E7],
                        resolutions: [
                            156543.033928041,
                            78271.5169640205,
                            39135.75848201024,
                            19567.87924100512,
                            9783.93962050256,
                            4891.96981025128,
                            2445.98490512564,
                            1222.99245256282,
                            611.49622628141,
                            305.748113140705,
                            152.8740565703525,
                            76.43702828517625,
                            38.21851414258813,
                            19.109257071294063,
                            9.554628535647032,
                            4.777314267823516,
                            2.388657133911758,
                            1.194328566955879,
                            0.5971642834779395
                        ],
                        matrixIds: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]
                    }),
                    wrapX: true
                }));
            }
        }

        // 获取真实天气数据
        async function getWeatherData() {
            try {
                if (navigator.geolocation) {
                    navigator.geolocation.getCurrentPosition(
                        async position => {
                            const lat = position.coords.latitude;
                            const lon = position.coords.longitude;

                            const response = await fetch(`${BASE_URL}/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric&lang=zh_cn`);
                            const data = await response.json();

                            // 更新UI
                            document.getElementById('temperature').textContent = Math.round(data.main.temp) + '°C';
                            document.getElementById('humidity').textContent = data.main.humidity + '%';
                            document.getElementById('windSpeed').textContent = data.wind.speed + ' m/s';
                            document.getElementById('precipitation').textContent = (data.rain ? data.rain['1h'] || 0 : 0) + ' mm';
                            document.getElementById('location').textContent = data.name + ', ' + (data.sys.country || '');

                            // 设置火险等级为低风险
                            document.getElementById('fireRiskValue').textContent = "低风险";
                            const riskIndicator = document.querySelector('.risk-indicator');
                            riskIndicator.className = `risk-indicator risk-low`;
                        },
                        error => {
                            console.error('获取位置失败:', error);
                            // 使用默认位置（北京）获取天气
                            getWeatherByCity('Beijing');
                        }
                    );
                } else {
                    // 浏览器不支持定位，使用默认位置
                    getWeatherByCity('Beijing');
                }
            } catch (error) {
                console.error('获取天气数据失败:', error);
            }
        }

        // 通过城市名称获取天气
        async function getWeatherByCity(city) {
            try {
                const response = await fetch(`${BASE_URL}/weather?q=${city}&appid=${API_KEY}&units=metric&lang=zh_cn`);
                const data = await response.json();

                document.getElementById('temperature').textContent = Math.round(data.main.temp) + '°C';
                document.getElementById('humidity').textContent = data.main.humidity + '%';
                document.getElementById('windSpeed').textContent = data.wind.speed + ' m/s';
                document.getElementById('precipitation').textContent = (data.rain ? data.rain['1h'] || 0 : 0) + ' mm';
                document.getElementById('location').textContent = data.name + ', ' + (data.sys.country || '');
            } catch (error) {
                console.error('获取天气数据失败:', error);
            }
        }

        // 加载预警信息
        async function loadWarnings() {
            try {
                const response = await fetch('warnings.json');
                const warnings = await response.json();
                displayWarnings(warnings);
            } catch (error) {
                console.error('加载预警信息失败:', error);
                document.getElementById('warningList').innerHTML = '<div class="warning-item">暂无预警信息</div>';
            }
        }

        // 显示预警信息
        function displayWarnings(warnings) {
            const warningList = document.getElementById('warningList');
            warningList.innerHTML = '';

            if (warnings.length === 0) {
                warningList.innerHTML = '<div class="warning-item">暂无预警信息</div>';
                return;
            }

            warnings.forEach(warning => {
                const warningItem = document.createElement('div');
                warningItem.className = 'warning-item';
                warningItem.innerHTML = `
                    <div class="warning-title">
                        <span>${warning.title}</span>
                        <span class="warning-time">${warning.time}</span>
                    </div>
                    <p>${warning.content}</p>
                `;
                warningList.appendChild(warningItem);
            });
        }

        // 管理员登录 (安全API版本)
        async function adminLogin() {
            const passwordInput = document.getElementById('adminPassword');
            const password = passwordInput.value.trim();
            const submitBtn = document.querySelector('button[onclick="adminLogin()"]'); // 获取登录按钮，防止重复提交

            if (!password) {
                alert('请输入管理员密码');
                return;
            }

            // 可选：添加防重复提交和加载状态
            if (submitBtn) {
                const originalText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = '验证中...';
            }

            try {
                // 1. 计算用户输入密码的SHA-256哈希
                const hash = await sha256(password);

                // 2. 调用Vercel安全API进行验证
                const response = await fetch('https://api.lsqkk.space/api/admin-auth', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ passwordHash: hash })
                });

                const result = await response.json();

                // 3. 根据API返回结果处理
                if (response.ok && result.success) {
                    // 登录成功
                    isAdmin = true;
                    localStorage.setItem('isAdmin', 'true');
                    updateAdminUI();
                    passwordInput.value = '';
                    alert('管理员登录成功');
                } else {
                    // 登录失败 (API返回 401 或其他错误)
                    alert('密码错误: ' + (result.error || ''));
                }

            } catch (error) {
                // 网络错误或API异常
                console.error('登录过程出错:', error);
                alert('登录失败：网络错误或验证服务异常，请稍后重试。');
            } finally {
                // 无论成功失败，都恢复按钮状态
                if (submitBtn) {
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                }
            }
        }

        // 管理员退出 (无需修改，可保持原样)
        function logoutAdmin() {
            isAdmin = false;
            localStorage.setItem('isAdmin', 'false');
            updateAdminUI();
        }

        // 更新管理员UI
        function updateAdminUI() {
            const loginForm = document.getElementById('adminLoginForm');
            const adminActions = document.getElementById('adminActions');
            const addWarningBtn = document.getElementById('addWarningBtn');

            if (isAdmin) {
                loginForm.style.display = 'none';
                adminActions.style.display = 'flex';
                addWarningBtn.style.display = 'block';
            } else {
                loginForm.style.display = 'flex';
                adminActions.style.display = 'none';
                addWarningBtn.style.display = 'none';
            }
        }

        // SHA256哈希函数
        async function sha256(message) {
            const encoder = new TextEncoder();
            const data = encoder.encode(message);
            const hash = await crypto.subtle.digest('SHA-256', data);
            return Array.from(new Uint8Array(hash))
                .map(b => b.toString(16).padStart(2, '0'))
                .join('');
        }

        // 显示添加预警模态框
        function showAddWarningModal() {
            document.getElementById('addWarningModal').style.display = 'flex';
        }

        // 关闭添加预警模态框
        function closeAddWarningModal() {
            document.getElementById('addWarningModal').style.display = 'none';
        }

        // 添加预警
        function addWarning() {
            const title = document.getElementById('warningTitle').value;
            const level = document.getElementById('warningLevel').value;
            const content = document.getElementById('warningContent').value;

            if (!title || !content) {
                alert('请填写预警标题和内容');
                return;
            }

            // 创建预警元素
            const warningList = document.getElementById('warningList');
            const warningItem = document.createElement('div');
            warningItem.className = 'warning-item';

            const now = new Date();
            const timeStr = `${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}-${now.getDate().toString().padStart(2, '0')} ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}`;

            warningItem.innerHTML = `
                <div class="warning-title">
                    <span>${title}</span>
                    <span class="warning-time">${timeStr}</span>
                </div>
                <p>${content}</p>
            `;

            // 添加到列表顶部
            warningList.insertBefore(warningItem, warningList.firstChild);

            // 清空表单并关闭模态框
            document.getElementById('warningTitle').value = '';
            document.getElementById('warningContent').value = '';
            closeAddWarningModal();

            alert('预警信息发布成功');
        }

        // 更新时间和IP显示
        function updateTimeAndIP() {
            const now = new Date();
            const timeStr = `${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;
            document.getElementById('current-time').textContent = timeStr;
        }

        // 获取访客IP信息
        async function getVisitorInfo() {
            try {
                const response = await fetch('https://api.b52m.cn/api/IP/?key=60606913cdba7c');
                const data = await response.json();

                if (data.code === 200) {
                    const ipInfo = data.data;
                    const ip = data.ip;
                    document.getElementById('current-ip').textContent = `IP: ${ip}`;
                } else {
                    throw new Error('API返回错误');
                }
            } catch (error) {
                console.error('获取IP信息失败:', error);
                document.getElementById('current-ip').textContent = 'IP: 未知';
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function () {
            initMap();
            getWeatherData();
            loadWarnings();
            updateAdminUI();
            updateTimeAndIP();
            getVisitorInfo();

            // 更新最后更新时间
            const now = new Date();
            document.getElementById('lastUpdate').textContent =
                `${now.getFullYear()}-${(now.getMonth() + 1).toString().padStart(2, '0')}-${now.getDate().toString().padStart(2, '0')} ${now.getHours().toString().padStart(2, '0')}:${now.getMinutes().toString().padStart(2, '0')}:${now.getSeconds().toString().padStart(2, '0')}`;

            // 每秒更新时间
            setInterval(updateTimeAndIP, 1000);
        });
    </script>
</body>
<script src="/assets/js/disable-right-click.js"></script>
<script src="/assets/js/no-text.js"></script>

</html>