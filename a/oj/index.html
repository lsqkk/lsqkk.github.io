<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quark OJ - å¤¸å…‹åšå®¢</title>
    <link rel="stylesheet" href="nav.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="/assets/css/basic.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
    <script src="/assets/js/disable-right-click.js"></script>
    <script src="/assets/js/nav.js"></script>
    <script>
        // æœç´¢åŠŸèƒ½ä¿æŒä¸å˜
        function handleSearch() {
            const searchInput = document.getElementById('oj-search-input');
            const searchValue = searchInput.value.trim();
            if (searchValue) {
                window.location.href = `problem-list.html?search=${encodeURIComponent(searchValue)}`;
            } else {
                window.location.href = `problem-list.html`;
            }
        }
    </script>

    <style>
        /* æ–°å¢ï¼šé¦–é¡µå¡ç‰‡å¸ƒå±€ */
        .oj-home-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 768px) {
            .oj-home-grid {
                grid-template-columns: 1fr;
            }
        }

        /* è¿åŠ¿å¡ç‰‡æ ·å¼ */
        .oj-fortune-card {
            min-height: 250px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .oj-fortune-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.3);
        }

        .oj-fortune-status {
            font-size: 3em;
            margin: 10px 0;
            font-weight: bold;
            text-shadow: 0 0 10px var(--oj-primary-color);
        }

        .oj-fortune-yi,
        .oj-fortune-ji {
            font-size: 1.1em;
            margin: 5px 0;
            font-weight: bold;
            /* åŠ ç²— */
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
            /* é˜´å½±æ•ˆæœ */
        }

        .oj-fortune-button {
            padding: 10px 20px;
            background-color: #f443367b;
            /* çº¢è‰² */
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1.1em;
            margin-top: 15px;
            transition: background-color 0.3s, transform 0.1s;
        }

        .oj-fortune-button:hover:not(:disabled) {
            background-color: #d32f2fc4;
            transform: translateY(-1px);
        }

        .oj-fortune-button:disabled {
            background-color: #757575;
            cursor: not-allowed;
        }

        /* éšæœºè·³é¢˜æŒ‰é’®æ ·å¼ */
        .oj-random-jump {
            text-align: center;
            padding: 40px;
            background-color: var(--oj-primary-color);
            cursor: pointer;
            transition: opacity 0.3s, transform 0.3s;
        }

        .oj-random-jump:hover {
            opacity: 0.9;
            transform: scale(1.02);
        }

        .oj-random-jump h2 {
            font-size: 2.2em;
            margin: 0;
            color: white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        /* æ–°å¢ï¼šç§»é™¤å…¬å‘Šåˆ—è¡¨çš„å°åœ†ç‚¹ */
        #announcement-list ul,
        .oj-stats-panel ul {
            list-style-type: none;
            padding-left: 0;
            margin: 0;
        }

        #announcement-list li,
        .oj-stats-panel li {
            padding: 8px 0;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.4);
        }

        #announcement-list li:last-child,
        .oj-stats-panel li:last-child {
            border-bottom: none;
        }

        .oj-stats-panel li a {
            margin-left: 15px;
            transition: margin-left 0.3s, border-left 0.3s;
            display: block;
        }
    </style>

    <link rel="icon" href="/assets/img/logo_blue.png" type="image/png">
</head>

<body>
    <link rel="stylesheet" href="/assets/css/shicha.css">
    <div class="parallax-bg" id="parallaxBg"></div>
    <script src="/assets/js/shicha.js"></script>
    <div class="oj-app-wrapper">

        <aside class="oj-sidebar-panel glass-card">
            <h2 class="oj-sidebar-title">QUARK OJ</h2>

            <nav class="oj-sidebar-nav">
                <ul>
                    <li><a href="index.html" class="oj-nav-link active">é¦–é¡µ</a></li>
                    <li><a href="train.html" class="oj-nav-link">åˆ·é¢˜</a></li>
                    <li><a href="problem-list.html" class="oj-nav-link">é¢˜åº“</a></li>
                    <li><a href="discussion.html" class="oj-nav-link">è®¨è®ºåŒº</a></li>
                    <li><a href="submission-record.html" class="oj-nav-link">æäº¤è®°å½•</a></li>
                </ul>
            </nav>

            <hr class="oj-sidebar-divider">
            <div class="oj-sidebar-controls">
                <div class="oj-search-group">
                    <input type="text" id="oj-search-input" class="oj-search-input" placeholder="æœç´¢é¢˜ç›® ID/åç§°">
                    <button class="oj-search-button" onclick="handleSearch()">ğŸ”</button>
                </div>
            </div>
        </aside>

        <main class="oj-main-content">

            <section class="oj-random-jump glass-card" onclick="jumpToRandomProblem()">
                <h2>éšæœºè·³é¢˜</h2>
                <p>ç‚¹å‡»å¼€å§‹ä¸€è¶ŸæœªçŸ¥çš„åˆ·é¢˜ä¹‹æ—…</p>
            </section>

            <div class="oj-home-grid">
                <section class="oj-fortune-panel glass-card oj-fortune-card">
                    <h3>ä»Šæ—¥è¿åŠ¿</h3>
                    <div id="fortune-content">
                        <p>æŠ½å–ä½ çš„ä»Šæ—¥è¿åŠ¿ï¼Œç¥ä½  AC è¿è¿ï¼</p>
                        <button id="draw-fortune-btn" class="oj-fortune-button">æŠ½å–ä»Šæ—¥è¿åŠ¿</button>
                    </div>
                </section>

                <section class="oj-stats-panel glass-card">
                    <ul>
                        <li><a href="train.html" class="oj-nav-link" style="background: none;">ä»ç¬¬ä¸€é¢˜å¼€å§‹</a></li>
                        <li><a href="problem-list.html" class="oj-nav-link" style="background: none;">æŸ¥çœ‹å®Œæ•´é¢˜åº“</a></li>
                        <li><a href="discussion.html" class="oj-nav-link" style="background: none;">å½“å‰è®¨è®º</a></li>
                        <li><a href="submission-record.html" class="oj-nav-link" style="background: none;">æˆ‘çš„æäº¤è®°å½•</a>
                        </li>

                        <li><a href="problem-list.html" class="oj-nav-link" style="background: none;">é¢˜åº“å½“å‰æ€»é¢˜ç›®æ•°:
                                <strong id="total-problems">åŠ è½½ä¸­...</strong></a></li>
                    </ul>
                </section>
            </div>


            <section class="oj-announcement-panel glass-card">
                <h3>ç«™å†…å…¬å‘Š</h3>
                <div id="announcement-list">
                    <ul>
                        <li>[2025/12/04] æ–°ä¸»é¡µä¸Šçº¿ï¼cosæ´›è°·æäº†ä¸€ä¸ªè¿åŠ¿</li>
                        <li>[2025/12/03] å¤¸å…‹ OJ æ­£å¼ä¸Šçº¿~ å…æ³¨å†Œï¼Œç›´æ¥åˆ·é¢˜ï¼</li>
                    </ul>
                </div>
            </section>

            <section class="oj-announcement-panel glass-card">
                <h3>ç‰ˆæƒä¿¡æ¯</h3>
                <div id="announcement-list">
                    <ul>
                        <li>Â© 2024 - 2026 å¤¸å…‹åšå®¢ / è“è‰²å¥‡å¤¸å…‹ / å¤¸å…‹OJ All rights reserved. </li>
                        <li>API by: judge0</li>
                    </ul>
                </div>
            </section>

        </main>
    </div>

    <script src="./js/utils.js"></script>
    <script src="./js/home.js"></script>
    <script>
        // åˆå§‹åŒ–å‡½æ•°ï¼Œç”¨äºåŠ è½½ç»Ÿè®¡æ•°æ®å’Œæ£€æŸ¥è¿åŠ¿
        if (typeof initializeHomePage !== 'undefined') {
            initializeHomePage();
        }
    </script>
</body>

</html>