<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple Firebase Chat</title>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>

<h2>Simple Chat Room</h2>

<div>
  <input type="text" id="roomInput" placeholder="Enter room name">
  <button onclick="joinRoom()">Join Room</button>
</div>

<div id="chatArea" style="display:none;">
  <ul id="messagesList"></ul>
  <input type="text" id="messageInput" placeholder="Type a message">
  <button onclick="sendMessage()">Send</button>
</div>

<script>
// Your web app's Firebase configuration
var firebaseConfig = {
apiKey: "AIzaSyAeSI1akqwsPBrVyv7YKirV06fqdkL3YNI",
    authDomain: "quark-b7305.firebaseapp.com",
    projectId: "quark-b7305",
    storageBucket: "quark-b7305.firebasestorage.app",
    messagingSenderId: "843016834358",
    appId: "1:843016834358:web:9438c729be28c4d492f797",
    measurementId: "G-5BVT26KRT6"
};
// Initialize Firebase
firebase.initializeApp(firebaseConfig);

var roomName;
var messagesRef;

function joinRoom() {
  roomName = document.getElementById('roomInput').value;
  if (roomName) {
    document.getElementById('chatArea').style.display = 'block';
    messagesRef = firebase.database().ref('chatrooms/' + roomName + '/messages');
    messagesRef.on('child_added', function(snapshot) {
      var message = snapshot.val();
      var messageElement = document.createElement('li');
      messageElement.textContent = message.text;
      document.getElementById('messagesList').appendChild(messageElement);
      window.scrollTo(0, document.body.scrollHeight);
    });
  }
}

function sendMessage() {
  var messageInput = document.getElementById('messageInput');
  var message = {
    text: messageInput.value,
    timestamp: firebase.database.ServerValue.TIMESTAMP
  };
  messagesRef.push(message);
  messageInput.value = '';
}
</script>

</body>
</html>
